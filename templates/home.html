{% extends "base.html" %}

{% block head %}
        <link rel="stylesheet" href="{{ url_for('static', filename='css/home.css')}}" type="text/css"/>
{% endblock %}

{% block content %}

	<!-- LOGO CONTAINER -->
    <div id="logo-container">
      <a  id="logo-image" href="{{ url_for('home') }}"></a>
    </div>

	<!-- SEARCH BUTTON THAT REVEALS FORM WHEN CLICKED -->
    <div class="row">
        <button class="col s8 m6 l4 offset-s2 offset-m3 offset-l4 transparent search-button">
	        Search Circles
	    </button>
    </div>
    <!-- SEARCH FORM  -->
	<div class="row container">
		<form id="person-search" action="{{ url_for('search') }}" method="POST" autocomplete="off">
        <div class="row center-align">
			<div class="col s10 m8 l6 offset-s1 offset-m2 offset-l3">
				<input id="searchFirstName" name="searchFirstName" type="text" placeholder="Enter a First Name" class="validate" onFocus="this.select()">
		    </div>
        </div>
        <div class="row">
            <div class="col s10 m8 l6 offset-s1 offset-m2 offset-l3">
				<input id="searchLastName" name="searchLastName" type="text" placeholder="Enter a Surname" class="validate">
            </div>
        </div>
        <div class="row">
			<div class="col s10 m8 l6 offset-s1 offset-m2 offset-l3">
				<input id="searchDob" name="searchDob" type="text" placeholder="Search by Date of Birth" class="validate datepicker">
		    </div>
        </div>
        <div class="row">
			<button type="submit" class="col s10 m4 offset-s0 offset-m4 search-btn">
		        <i class="fas fa-search icon-4x"></i>
		    </button>
        </div>
		</form>
	</div>
    <!-- RESULTS PANEL -->
    <div class="row">
    {% if people|length > 0 %}
        <ul class="col s10 offset-s1 collapsible">
            {% for person in people %}
			<li>
				<div class="collapsible-header white-text indigo darken-8 text-shadow">
				    <div class="col s1 valign-wrapper">
                        <i class="fas fa-chevron-circle-down"></i>
                    </div>
					<div class="col s8 ">
						<strong>{{ person.first_name.capitalize() }} {{ person.last_name.capitalize() }}:<br> </strong>{{ person.dob }}
					</div>
					<div class="col s3 valign-wrapper">
						<a href="{{ url_for('edit_parents', person_id=person._id) }}" class="btn-large indigo darken-4">Edit</a>
					</div>
				</div>

				<div class="collapsible-body">
					<p>Maiden Name (if applicable)      : <strong> {{ person.birth_surname }}</strong></p>
					<p>Date of Birth                    : <strong>{{ person.dob }}</strong></p>
					<p>Born in                          : <strong> {{ person.birth_address }}</strong></p>
                    <br><br>
					<p>Information                          :<strong> {{ person.information }}</strong></p>
				</div>
            </li>
            {% endfor %}
        </ul>
        {% else %}
            <h3 class="red-text text-darken-4 center-align">{{ error }}</h3>
    </div>
    {% endif %}




{% endblock %}
{% block scripts %}
  <script src="{{ url_for('static', filename='js/home.js') }}"></script>
{% endblock scripts %}